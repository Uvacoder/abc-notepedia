(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{416:function(t,e,a){"use strict";a.r(e);var s=a(45),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[t._v("#")]),t._v(" MongoDB")]),t._v(" "),a("h2",{attrs:{id:"installation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[t._v("#")]),t._v(" Installation")]),t._v(" "),a("p",[t._v("Install MongoDB Community Edition. It is the non-commercial edition, but has all the features we need.")]),t._v(" "),a("p",[t._v("Follow the installation instructions of your operating system:")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/administration/install-community/")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("brew tap mongodb/brew\nbrew install mongodb-community@4.2\n")])])]),a("p",[a("em",[t._v("Mac:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mongod --config /usr/local/etc/mongod.conf\n")])])]),a("h2",{attrs:{id:"mongod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongod"}},[t._v("#")]),t._v(" mongod")]),t._v(" "),a("p",[t._v("-> Software, Server. Running in background")]),t._v(" "),a("h4",{attrs:{id:"start-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-server"}},[t._v("#")]),t._v(" start server:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mongod\n")])])]),a("p",[t._v("https://docs.mongodb.com/manual/tutorial/manage-mongodb-processes/")]),t._v(" "),a("h4",{attrs:{id:"stop-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stop-server"}},[t._v("#")]),t._v(" stop server")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("./mongo\n\nuse admin\n\ndb.shutdownServer()\n")])])]),a("h2",{attrs:{id:"mongo-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongo-shell"}},[t._v("#")]),t._v(" mongo-shell")]),t._v(" "),a("h3",{attrs:{id:"start-the-mongo-command-line-tool"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start-the-mongo-command-line-tool"}},[t._v("#")]),t._v(" start the mongo command line tool:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mongo\n\n>_\n")])])]),a("h3",{attrs:{id:"show-the-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#show-the-database"}},[t._v("#")]),t._v(" Show the Database")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db\n")])])]),a("h3",{attrs:{id:"show-the-databases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#show-the-databases"}},[t._v("#")]),t._v(" Show the Databases")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("show dbs\n")])])]),a("p",[a("em",[t._v("admin, config, local = default")])]),t._v(" "),a("h3",{attrs:{id:"switch-to-other-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switch-to-other-database"}},[t._v("#")]),t._v(" Switch to Other Database")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("use databaseName\n")])])]),a("blockquote",[a("p",[t._v("****If the database does not exist, mongo will create it for you.")]),t._v(" "),a("p",[t._v("(to get listed with "),a("code",[t._v("show dbs")]),t._v(", it has to have some content)")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"collections-and-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#collections-and-documents"}},[t._v("#")]),t._v(" Collections and Documents")]),t._v(" "),a("p",[t._v("In MongoDB, your data is organized in "),a("strong",[t._v("collections")]),t._v(". (equivalent to a table in relational databases)")]),t._v(" "),a("p",[t._v("A "),a("strong",[t._v("document")]),t._v(" is a data item stored in a collection. It is the equivalent of a row in a table in relational databases.")]),t._v(" "),a("p",[t._v("Data is stored in "),a("strong",[t._v("JSON")]),t._v(" (JavaScript Object Notation) format")]),t._v(" "),a("h3",{attrs:{id:"show-collections"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#show-collections"}},[t._v("#")]),t._v(" Show Collections")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("show collections\n")])])]),a("p",[t._v("collection =  table")]),t._v(" "),a("p",[t._v("document = datensatz")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"crud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crud"}},[t._v("#")]),t._v(" CRUD")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/crud/")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"create-a-new-document-new-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-document-new-entry"}},[t._v("#")]),t._v(" Create a New Document (new entry)")]),t._v(" "),a("p",[t._v("insertOne()")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.insertOne({"name":"Teresa"})\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db-products.insertOne({_id:1, name: "Pen", price: 1.20})\n')])])]),a("p",[t._v("or Multiline:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.insertOne(\n{\n"FirstName": "Stefan",\n"Email": "stefan@gmail.com",\n"Address": "Hauptstr. 1, 22679 Hamburg"\n} )\n')])])]),a("p",[t._v("The first object, "),a("strong",[t._v("db")]),t._v(", is the database object.\nThe second, "),a("strong",[t._v("students")]),t._v(",is the collection that you are using.\nYou are then calling a method on the collection: "),a("strong",[t._v("insertOne(...)")])]),t._v(" "),a("blockquote",[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n"acknowledged" : true,\n"insertedId" : ObjectId("5e11ebb8afe9bc071cc2389e") \n}\n')])])])]),t._v(" "),a("p",[t._v("In the second line, mongo tells you the ID for the document that it created automatically. MongoDB requires a unique ID  You don’t need to create an ID field in your document.")]),t._v(" "),a("h3",{attrs:{id:"insert-multiple-documents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#insert-multiple-documents"}},[t._v("#")]),t._v(" Insert Multiple Documents")]),t._v(" "),a("p",[a("code",[t._v("insertMany()")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.insertMany([\n    {\n        "name": "Maria",\n        "email": "mail@maria.de",\n        "student_id": 3\n    },\n    {\n        "name": "Tom",\n        "email": "tom@tom.com",\n        "student_id": 4\n    },\n    {\n        "name": "Bernd",\n        "email": "bernd@gmail.com",\n        "student_id": 5\n    },\n    {\n        "name": "Kerstin",\n        "email": "Kerstin@gmx.de",\n        "student_id": 6\n    },\n    {\n        "name": "Steffen",\n        "email": "mail@shaefelinger.de",\n        "student_id": 7\n    },\n    {\n        "name": "Jan",\n        "email": "jcs@me.com",\n        "student_id": 8\n    }\n])\n')])])]),a("blockquote",[a("p",[t._v("Array!")])]),t._v(" "),a("blockquote",[a("p",[t._v("-> sehr umständlich im terminal. eher im editor")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"read-find"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#read-find"}},[t._v("#")]),t._v(" Read - .find()")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/reference/method/db.collection.find/#db.collection.find")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db.students.find() \n// or\ndb.students.find({}) \n\n// nicer:\ndb.students.find().pretty()\n\n")])])]),a("h3",{attrs:{id:"query-a-specific-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#query-a-specific-document"}},[t._v("#")]),t._v(" Query a Specific Document")]),t._v(" "),a("p",[t._v("The JSON that we pass to the **find()**function is our "),a("strong",[t._v("query")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.find({ "FirstName": "Anna" })\n')])])]),a("h3",{attrs:{id:"find-similar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#find-similar"}},[t._v("#")]),t._v(" Find Similar")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.find({"name":/helder/i}) \n\n-> search similar (RegEx)\n')])])]),a("h3",{attrs:{id:"query-operators"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#query-operators"}},[t._v("#")]),t._v(" Query Operators")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.find( { "FirstName": { $in: [ "Anna", "Michael" ] } } )\n')])])]),a("p",[t._v("use query selectors")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/reference/operator/query/#query-selectors")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('> db.products.find({name: "Pencil"} )\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("> db.products.find({price:{$gt: 1}} )\n")])])]),a("h3",{attrs:{id:"_2nd-parameter-projection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2nd-parameter-projection"}},[t._v("#")]),t._v(" 2nd parameter: projection")]),t._v(" "),a("p",[t._v("-> specify the field")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db.products.find({_id:1}, {name: 1})\n")])])]),a("p",[t._v("id always comes back by default, but can be disabled:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("> db.products.find({_id:1}, {name:1, _id:0})\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[t._v("#")]),t._v(" Update")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.updateOne(\n{ "FirstName": "Michael" }, \n\t{\n\t\t$set: { "Address": "Borselstraße 7, 22765 Hamburg" } \n\t}\n)\n')])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db.products.updateOne({_id:1}, {$set: {stock: 32}})\n")])])]),a("p",[a("code",[t._v("$set")]),t._v(" creates new Field")]),t._v(" "),a("p",[t._v("Similarly, you can use **updateMany()**with a query operator.")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/tutorial/update-documents/")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"delete"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[t._v("#")]),t._v(" Delete")]),t._v(" "),a("h3",{attrs:{id:"delete-all-documents-matching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-all-documents-matching"}},[t._v("#")]),t._v(" Delete All Documents Matching")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.deleteMany({ "FirstName": "Anna" })\n')])])]),a("h3",{attrs:{id:"delete-the-first-document-that-matches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-the-first-document-that-matches"}},[t._v("#")]),t._v(" Delete the First Document that Matches")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.deleteOne({ "FirstName": "Anna" })\n')])])]),a("p",[t._v("https://docs.mongodb.com/manual/reference/method/db.collection.deleteOne/#db.collection.deleteOne")]),t._v(" "),a("h3",{attrs:{id:"delete-all"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-all"}},[t._v("#")]),t._v(" Delete All")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("db.students.deleteMany({})\n")])])]),a("p",[t._v("{} is Wildcard for all")]),t._v(" "),a("h2",{attrs:{id:"delete-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-database"}},[t._v("#")]),t._v(" delete Database")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("use databaseName \ndb.dropDatabase()\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"operators-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#operators-functions"}},[t._v("#")]),t._v(" $ -> Operators/Functions")]),t._v(" "),a("h3",{attrs:{id:"fuge-aktuelles-datum-dem-datensatz-zu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fuge-aktuelles-datum-dem-datensatz-zu"}},[t._v("#")]),t._v(" -> füge aktuelles datum dem datensatz zu:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$currentDate: {"last_modified": true}\n')])])]),a("h3",{attrs:{id:"delete-field-unset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#delete-field-unset"}},[t._v("#")]),t._v(" Delete Field - $unset")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.students.updateMany( {}, { $unset: {"Adress":""} })\n')])])]),a("p",[t._v("https://docs.mongodb.com/manual/reference/operator/update/unset/")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"relationships-in-mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#relationships-in-mongodb"}},[t._v("#")]),t._v(" Relationships in MongoDB")]),t._v(" "),a("p",[t._v("two ways:")]),t._v(" "),a("h3",{attrs:{id:"_1-document-inside-of-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-document-inside-of-document"}},[t._v("#")]),t._v(" 1) Document inside of Document.")]),t._v(" "),a("p",[t._v("Good for one to many relationships")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('db.products.insert(\n\t{\n\t\t_id:3,\n\t\tname: "Rubber",\n\t\tstock: 43,\n\t\treviews: [\n\t\t\t{\n\t\t\t\tauthorName: "Sally",\n\t\t\t\trating: 5,\n\t\t\t\treview: "Best rubber ever"\n\t\t\t},\n\t\t\t{\n\t\t\t\tauthorName: "John",\n\t\t\t\trating: 4,\n\t\t\t\treview: "Good rubber!"\n\t\t\t}\n\t\t]\n\t}\n)\n')])])]),a("h3",{attrs:{id:"_2-reference-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-reference-id"}},[t._v("#")]),t._v(" 2) reference ID")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n\t_id: 1,\n\tname: "Pen",\n\tprice: 1.20,\n\tstock: 32\n}\n\n{\n\t_id: 2,\n\tname: "Pencil",\n\tprice: 0.80,\n\tstock: 12\n}\n\n{\n\torderNumber: 3234,\n\tproductsOrdered: [1, 2]\n}\n')])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"methodology-for-finding-the-right-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methodology-for-finding-the-right-query"}},[t._v("#")]),t._v(" Methodology for Finding the Right Query")]),t._v(" "),a("p",[t._v("Finding the right query can be difficult, especially on the command line. To find the right query, you can follow the following steps:")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("1)")]),t._v(" "),a("strong",[t._v("Browse the dataset and familiarize yourself with it.")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("2)")]),t._v(" "),a("strong",[t._v("Identify the field you are interested in.")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("3)")]),t._v(" "),a("strong",[t._v("Identify the query operator or the syntax you need.")])]),t._v(" "),a("ul",[a("li",[t._v("○  Check the documentation")]),t._v(" "),a("li",[t._v("○  Search the web for examples")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("4)")]),t._v(" "),a("strong",[t._v("Try it out.")])]),t._v(" "),a("p",[t._v("(Trial and error)")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"mongodb-atlas-and-compass"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-atlas-and-compass"}},[t._v("#")]),t._v(" MongoDB Atlas and Compass")]),t._v(" "),a("p",[t._v("MongoDB provides a cloud database called "),a("strong",[t._v("Atlas")]),t._v(".")]),t._v(" "),a("p",[a("strong",[t._v("Compass")]),t._v(" is giving you a GUI (Graphical User Interface) that makes it a bit easier to work with the database.")]),t._v(" "),a("p",[t._v("Queries in Compass")]),t._v(" "),a("ul",[a("li",[t._v("sort")]),t._v(" "),a("li",[t._v("{title: 1}")])]),t._v(" "),a("h3",{attrs:{id:"queryselectors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryselectors"}},[t._v("#")]),t._v(" QuerySelectors")]),t._v(" "),a("p",[t._v("https://docs.mongodb.com/manual/reference/operator/query/")]),t._v(" "),a("blockquote",[a("p",[t._v("immer closing brackets gleich mitschreiben -> gefahr zu vergessen")])]),t._v(" "),a("h3",{attrs:{id:"mehrere-queries-implicit-and-statement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mehrere-queries-implicit-and-statement"}},[t._v("#")]),t._v(" Mehrere Queries: Implicit and-Statement")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{"year" : { $lt : 1925 }, "imdb.rating": { $gt: 8}  } \n')])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"heroku-atlas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#heroku-atlas"}},[t._v("#")]),t._v(" Heroku & Atlas")]),t._v(" "),a("p",[t._v("https://devcenter.heroku.com/articles/preparing-a-codebase-for-heroku-deployment")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("Atlas -> Heroku")]),t._v(" "),a("p",[t._v("https://developer.mongodb.com/how-to/use-atlas-on-heroku/")]),t._v(" "),a("hr"),t._v(" "),a("h1",{attrs:{id:"links"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[t._v("#")]),t._v(" Links")]),t._v(" "),a("ul",[a("li",[t._v("[Handout - Databases.pdf](files/Handout - Databases.pdf)")]),t._v(" "),a("li",[t._v("MongoDBDocumentation:https://docs.mongodb.com/manual/")]),t._v(" "),a("li",[t._v("MongoDBCourses: https://university.mongodb.com/")]),t._v(" "),a("li",[t._v("MongoDB tutorial: https://www.guru99.com/what-is-mongodb.html")]),t._v(" "),a("li",[t._v("MongoDB Cheat Sheet:https://gist.github.com/bradtraversy/f407d642bdc3b31681bc7e56d95485b6")])])])}),[],!1,null,null,null);e.default=n.exports}}]);